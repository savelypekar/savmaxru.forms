{"version":3,"file":"viewform.bundle.js","sources":["../src/viewform.js"],"sourcesContent":["import './css/style.css'\n\nimport {Type} from 'main.core';\nimport {ObjectGUI} from \"savmaxru.objectgui\";\nimport {Tag} from 'main.core';\nimport {IDManager} from 'savmaxru.idmanager';\nimport {ModalWindow} from \"savmaxru.modalwindow\";\nimport {ComponentEditor} from \"savmaxru.componenteditor\";\nimport {ComponentsGallery} from \"savmaxru.componentsgallery\";\n\nexport class ViewForm extends ObjectGUI\n{\n\tIDManager = new IDManager('myforms');\n\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.setRootNode(\n\t\t\tTag.render`\n\t\t\t${this.addNode(\"viewform-wrapper\")}`\n\t\t);\n\n\t\tlet componentEditor = new Savmaxru.ComponentEditor(this.getNode(\"viewform-wrapper\"));\n\n\t\tlet configGallery = {\n\t\t\t\"galleryClassCSS\": \"viewform-gallery\",\n\t\t\t\"componentEditor\": componentEditor,\n\t\t\t\"argumentsForResult\": {\n\t\t\t\t'ID': 232323\n\t\t\t},\n\t\t};\n\n\t\tlet gallery = new ComponentsGallery(configGallery);\n\t\tthis.gallery = gallery;\n\t\tgallery.enableEditMode();\n\t\tthis.includeInNode(\"viewform-wrapper\", this.gallery.getHTMLObject());\n\n\t\tcomponentEditor.setGallery(gallery);\n\n\t\t//obj8.onDown(function(){\n\t\t//\tComponentEditor.create();\n\t\t//});\n\n\n\t\t/*let obj0 = gallery.createFactoryObject(\"Heading\");\n\t\tobj0.build(\n\t\t\t{\n\t\t\t\t'ID': 2220,\n\t\t\t\t'index': 0,\n\t\t\t\t'options': [\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Такой вот опрос\",\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t});\n\n\t\tlet obj1 = gallery.createFactoryObject(\"DropDownList\");\n\t\tobj1.build(\n\t\t\t{\n\t\t\t\t'ID': 2221,\n\t\t\t\t'index': 1,\n\t\t\t\t'description':'Выбери город',\n\t\t\t\t'options': [\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Вологда\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Череповец\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 2,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Калининград\",\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t'comment': 'вам доставят посылку точно по адресу',\n\t\t\t\t'required': true,\n\t\t\t});\n\n\t\tlet obj6 = gallery.createFactoryObject(\"Button\");\n\t\tobj6.build(\n\t\t\t{\n\t\t\t\t'ID': 2226,\n\t\t\t\t'index': 6,\n\t\t\t\t'options': [\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Send Form\",\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\t\tobj6.onDown(function(){\n\t\t\tconsole.log(gallery.getResult());\n\t\t});\n\n\t\tlet obj8 = gallery.createFactoryObject(\"Button\");\n\t\tobj8.build(\n\t\t\t{\n\t\t\t\t'ID': 2226,\n\t\t\t\t'index': 6,\n\t\t\t\t'options': [\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Add component\",\n\t\t\t\t\t},\n\t\t\t\t],\n\t\t\t});\n\n\t\tlet ComponentEditor = new Savmaxru.ComponentEditor(this.getNode(\"viewform-wrapper\"),gallery);\n\n\t\tobj8.onDown(function(){\n\t\t\tComponentEditor.create();\n\t\t});\n\n\t\tlet obj2 = gallery.createFactoryObject(\"CheckboxList\");\n\t\tobj2.build(\n\t\t\t{\n\t\t\t\t'ID': 2222,\n\t\t\t\t'index': 2,\n\t\t\t\t'description':'Test',\n\t\t\t\t'options': [\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Вологда\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Череповец\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 2,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Калининград\",\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t'comment': 'comment',\n\t\t\t\t'required': true,\n\t\t\t\t'IDManager': this.IDManager,\n\t\t\t});\n\n\t\tlet obj3 = gallery.createFactoryObject(\"RadiobuttonList\");\n\t\tobj3.build(\n\t\t\t{\n\t\t\t\t'ID': 2223,\n\t\t\t\t'index': 3,\n\t\t\t\t'description':'Test',\n\t\t\t\t'options': [\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Вологда\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Череповец\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 2,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Калининград\",\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t'comment': 'comment',\n\t\t\t\t'required': true,\n\t\t\t\t'IDManager': this.IDManager,\n\t\t\t});\n\n\t\tlet obj4 = gallery.createFactoryObject(\"SingleLineTextBox\");\n\t\tobj4.build(\n\t\t\t{\n\t\t\t\t'ID': 2224,\n\t\t\t\t'index': 4,\n\t\t\t\t'description':'Test',\n\t\t\t\t'comment': 'comment',\n\t\t\t\t'options':{},\n\t\t\t});\n\n\t\tlet obj5 = gallery.createFactoryObject(\"MultiLineTextBox\");\n\t\tobj5.build(\n\t\t\t{\n\t\t\t\t'ID': 2225,\n\t\t\t\t'index': 5,\n\t\t\t\t'description':'Test',\n\t\t\t\t'comment': 'comment',\n\t\t\t\t'options':{},\n\t\t\t});\n\n\t\tobj6.onDown(function(){\n\t\t\tconsole.log(gallery.getResult());\n\t\t});\n*/\n\t\t//gallery.getResult();\n\t\t//this.gallery.loadGroupObject();*/\n\n\t\tlet obj6 = gallery.createFactoryObject(\"Button\");\n\t\tobj6.build(\n\t\t\t{\n\t\t\t\t'ID': 2226,\n\t\t\t\t'index': 6,\n\n\t\t\t});\n\t\tobj6.setStyle(\"plus-button\");\n\t\tobj6.onDown(function(){\n\t\t\tconsole.log(gallery.getResult());\n\t\t});\n\n\t\tgallery.addObjectsGroup({\n\t\t\tID: 6829,\n\t\t\tquestions: [\n\t\t\t\t{\n\t\t\t\t\tID: 121212,\n\t\t\t\t\tindex: 1,\n\t\t\t\t\ttype: \"DropDownList\",\n\t\t\t\t\tdescription: \"Текст вопроса\",\n\t\t\t\t\tcomment: \"Пояснительный комметарий\",\n\t\t\t\t\trequired: true,\n\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\t\tvalue: \"Russia\",\n\t\t\t\t\t\t},\n\t\t\t\t\t],\n\n\t\t\t\t},{\n\t\t\t\t\tID: 121212,\n\t\t\t\t\tindex: 2,\n\t\t\t\t\ttype: \"Heading\",\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\tvalue: 'Такой вот опрос',\n\t\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},{\n\t\t\t\t\tID: 121212,\n\t\t\t\t\tindex: 3,\n\t\t\t\t\ttype: \"Button\",\n\t\t\t\t\toptions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\t\tvalue: 'Отправить',\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},{\n\t\t\t\t\tID: 121212,\n\t\t\t\t\tindex: 4,\n\t\t\t\t\ttype: \"MultiLineTextBox\",\n\t\t\t\t\toptions: [],\n\t\t\t\t}\n\t\t\t]\n\t\t});\n\n\t\tlet obj2 = gallery.createComponent(\"CheckboxList\");\n\t\tobj2.build(\n\t\t\t{\n\t\t\t\t'ID': 2222,\n\t\t\t\t'index': 2,\n\t\t\t\t'type': \"CheckboxList\",\n\t\t\t\t'description':'Test',\n\t\t\t\t'options': [\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 0,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Вологда\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 1,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Череповец\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tindex: 2,\n\t\t\t\t\t\tID: 121212,\n\t\t\t\t\t\tvalue: \"Калининград\",\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t'comment': 'comment',\n\t\t\t\t'required': true,\n\t\t\t\t'IDManager': this.IDManager,\n\t\t\t});\n\n\n\t\t\t//obj2.rewriteProperty(\"f\",2);\n\n\t\t\t//console.log(obj2.getChanges());\n\t\t\t//console.log(\"уу\");\n\t\t\t//console.log(obj2.getStructure());\n\n\t}\n\n\n}"],"names":["ViewForm","IDManager","setRootNode","Tag","render","addNode","componentEditor","Savmaxru","ComponentEditor","getNode","configGallery","gallery","ComponentsGallery","enableEditMode","includeInNode","getHTMLObject","setGallery","obj6","createFactoryObject","build","setStyle","onDown","console","log","getResult","addObjectsGroup","ID","questions","index","type","description","comment","required","options","value","obj2","createComponent","ObjectGUI"],"mappings":"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"}