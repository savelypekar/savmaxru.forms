{"version":3,"file":"results.bundle.js","sources":["../src/resultdialog.js","../src/results.js"],"sourcesContent":["import {ModalWindow} from \"savmaxru.modalwindow\";\nimport {Tag} from 'main.core';\n\nexport class ResultDialog extends ModalWindow\n{\n\tconstructor(structure)\n\t{\n\t\tsuper();\n\t\tlet answers = structure['answers'];\n\t\tconsole.log(structure);\n\t\tthis.addNode('answers');\n\t\tfor(let i=0; i<answers.length; i++)\n\t\t{\n\t\t\tlet answer = answers[i];\n\t\t\tthis.includeInNode('answers',answer['CONTENT']);\n\t\t\tlet options = answer['options'];\n\t\t\tfor(let j=0; j<options.length; j++)\n\t\t\t{\n\t\t\t\tlet option = options[j];\n\t\t\t\tthis.includeInNode('answers',option['CONTENT']);\n\t\t\t}\n\t\t}\n\t\tthis.setContent(this.getNode('answers'));\n\t}\n\n\n}","import './css/style.css'\nimport {ObjectGUI} from \"savmaxru.objectgui\";\nimport {ResultsGallery} from \"savmaxru.resultsgallery\";\nimport {Tag} from 'main.core';\nimport {ResultDialog} from \"./resultdialog\";\n\nexport class Results extends ObjectGUI\n{\n\tconstructor()\n\t{\n\t\tsuper();\n\t\tthis.setRootNode(\n\t\t\tTag.render`\n\t\t\t${this.addNode(\"results-wrapper\")}`\n\t\t);\n\n\t\tlet configGallery = {\n\t\t\t\"galleryClassCSS\": \"results-gallery\",\n\t\t};\n\n\t\tlet gallery = new ResultsGallery(configGallery,this);\n\t\tthis.includeInNode(\"results-wrapper\", gallery.getHTMLObject());\n\t\tgallery.loadGroupObject();\n\t}\n\n\topenResultWindow(ID)\n\t{\n\t\tlet page = this;\n\t\tBX.ajax.runComponentAction('savmaxru:forms.results', 'sendSelectedResult', {\n\t\t\tmode: 'class',\n\t\t\tdata: {\n\t\t\t\tidResult: ID,\n\t\t\t}\n\t\t}).then(function (response) {\n\t\t\tlet window = new ResultDialog(response['data']['result'])\n\t\t\tpage.getRootNode().append(window.getHTMLObject());\n\t\t});\n\t}\n\n}"],"names":["ResultDialog","structure","answers","console","log","addNode","i","length","answer","includeInNode","options","j","option","setContent","getNode","ModalWindow","Results","setRootNode","Tag","render","configGallery","gallery","ResultsGallery","getHTMLObject","loadGroupObject","ID","page","BX","ajax","runComponentAction","mode","data","idResult","then","response","window","getRootNode","append","ObjectGUI"],"mappings":";;;KAGaA,YAAb;CAAA;;CAEC,wBAAYC,SAAZ,EACA;CAAA;;CAAA;CACC;CACA,QAAIC,OAAO,GAAGD,SAAS,CAAC,SAAD,CAAvB;CACAE,IAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;;CACA,UAAKI,OAAL,CAAa,SAAb;;CACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACJ,OAAO,CAACK,MAAvB,EAA+BD,CAAC,EAAhC,EACA;CACC,UAAIE,MAAM,GAAGN,OAAO,CAACI,CAAD,CAApB;;CACA,YAAKG,aAAL,CAAmB,SAAnB,EAA6BD,MAAM,CAAC,SAAD,CAAnC;;CACA,UAAIE,OAAO,GAAGF,MAAM,CAAC,SAAD,CAApB;;CACA,WAAI,IAAIG,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACD,OAAO,CAACH,MAAvB,EAA+BI,CAAC,EAAhC,EACA;CACC,YAAIC,MAAM,GAAGF,OAAO,CAACC,CAAD,CAApB;;CACA,cAAKF,aAAL,CAAmB,SAAnB,EAA6BG,MAAM,CAAC,SAAD,CAAnC;CACA;CACD;;CACD,UAAKC,UAAL,CAAgB,MAAKC,OAAL,CAAa,SAAb,CAAhB;;CAhBD;CAiBC;;CApBF;CAAA,EAAkCC,gCAAlC;;;;;;;;;;;KCGaC,OAAb;CAAA;;CAEC,qBACA;CAAA;;CAAA;CACC;;CACA,UAAKC,WAAL,CACCC,aAAG,CAACC,MADL,oBAEG,MAAKd,OAAL,CAAa,iBAAb,CAFH;;CAKA,QAAIe,aAAa,GAAG;CACnB,yBAAmB;CADA,KAApB;CAIA,QAAIC,OAAO,GAAG,IAAIC,sCAAJ,CAAmBF,aAAnB,4CAAd;;CACA,UAAKX,aAAL,CAAmB,iBAAnB,EAAsCY,OAAO,CAACE,aAAR,EAAtC;;CACAF,IAAAA,OAAO,CAACG,eAAR;CAbD;CAcC;;CAjBF;CAAA;CAAA,qCAmBkBC,EAnBlB,EAoBC;CACC,UAAIC,IAAI,GAAG,IAAX;CACAC,MAAAA,EAAE,CAACC,IAAH,CAAQC,kBAAR,CAA2B,wBAA3B,EAAqD,oBAArD,EAA2E;CAC1EC,QAAAA,IAAI,EAAE,OADoE;CAE1EC,QAAAA,IAAI,EAAE;CACLC,UAAAA,QAAQ,EAAEP;CADL;CAFoE,OAA3E,EAKGQ,IALH,CAKQ,UAAUC,QAAV,EAAoB;CAC3B,YAAIC,MAAM,GAAG,IAAInC,YAAJ,CAAiBkC,QAAQ,CAAC,MAAD,CAAR,CAAiB,QAAjB,CAAjB,CAAb;CACAR,QAAAA,IAAI,CAACU,WAAL,GAAmBC,MAAnB,CAA0BF,MAAM,CAACZ,aAAP,EAA1B;CACA,OARD;CASA;CA/BF;CAAA;CAAA,EAA6Be,4BAA7B;;;;;;;;"}