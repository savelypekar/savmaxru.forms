{"version":3,"file":"results.bundle.js","sources":["../src/resultdialog.js","../src/results.js"],"sourcesContent":["import {ModalWindow} from \"savmaxru.modalwindow\";\nimport {Tag} from 'main.core';\nimport './css/style.css'\n\nexport class ResultDialog extends ModalWindow\n{\n\tconstructor(structure)\n\t{\n\t\tsuper();\n\t\tlet answers = structure['answers'];\n\t\tconsole.log(structure);\n\t\tthis.addNode('results-form');\n\t\tthis.includeInNode('results-form',Tag.render`<span class=\"user-name\">${structure['NAME_USER']}</span>`);\n\t\tfor(let i=0; i<answers.length; i++)\n\t\t{\n\t\t\tlet answer = answers[i];\n\t\t\tlet answerNode = Tag.render`<ul></ul>`;\n\t\t\tthis.includeInNode('results-form',Tag.render`<span>${answer['CONTENT']}</span>`);\n\t\t\tlet options = answer['options'];\n\t\t\tfor(let j=0; j<options.length; j++)\n\t\t\t{\n\t\t\t\tlet option = options[j];\n\t\t\t\tanswerNode.append(Tag.render`<li>${option[\"CONTENT\"]}</li>`);\n\t\t\t}\n\t\t\tthis.includeInNode('results-form',answerNode);\n\t\t}\n\t\tthis.setContent(this.getNode('results-form'));\n\t}\n\n\n}","import './css/style.css'\nimport {ObjectGUI} from \"savmaxru.objectgui\";\nimport {ResultsGallery} from \"savmaxru.resultsgallery\";\nimport {Tag} from 'main.core';\nimport {ResultDialog} from \"./resultdialog\";\n\nexport class Results extends ObjectGUI\n{\n\tconstructor(ID)\n\t{\n\t\tsuper();\n\t\tthis.setRootNode(\n\t\t\tTag.render`\n\t\t\t${this.addNode(\"results-wrapper\")}`\n\t\t);\n\n\t\tlet configGallery = {\n\t\t\t\"galleryClassCSS\": \"results-gallery\",\n\t\t};\n\n\t\tlet gallery = new ResultsGallery(configGallery,this,ID);\n\t\tthis.includeInNode(\"results-wrapper\", gallery.getHTMLObject());\n\t\tgallery.loadGroupObject();\n\t}\n\n\topenResultWindow(ID)\n\t{\n\t\tlet page = this;\n\t\tBX.ajax.runComponentAction('savmaxru:forms.results', 'sendSelectedResult', {\n\t\t\tmode: 'class',\n\t\t\tdata: {\n\t\t\t\tidResult: ID,\n\t\t\t}\n\t\t}).then(function (response) {\n\t\t\tlet window = new ResultDialog(response['data']['result'])\n\t\t\tpage.getRootNode().append(window.getHTMLObject());\n\t\t});\n\t}\n\n}"],"names":["ResultDialog","structure","answers","console","log","addNode","includeInNode","Tag","render","i","length","answer","answerNode","options","j","option","append","setContent","getNode","ModalWindow","Results","ID","setRootNode","configGallery","gallery","ResultsGallery","getHTMLObject","loadGroupObject","page","BX","ajax","runComponentAction","mode","data","idResult","then","response","window","getRootNode","ObjectGUI"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAIaA,YAAb;CAAA;;CAEC,wBAAYC,SAAZ,EACA;CAAA;;CAAA;CACC;CACA,QAAIC,OAAO,GAAGD,SAAS,CAAC,SAAD,CAAvB;CACAE,IAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;;CACA,UAAKI,OAAL,CAAa,cAAb;;CACA,UAAKC,aAAL,CAAmB,cAAnB,EAAkCC,aAAG,CAACC,MAAtC,oBAAuEP,SAAS,CAAC,WAAD,CAAhF;;CACA,SAAI,IAAIQ,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACP,OAAO,CAACQ,MAAvB,EAA+BD,CAAC,EAAhC,EACA;CACC,UAAIE,MAAM,GAAGT,OAAO,CAACO,CAAD,CAApB;CACA,UAAIG,UAAU,GAAGL,aAAG,CAACC,MAAP,oBAAd;;CACA,YAAKF,aAAL,CAAmB,cAAnB,EAAkCC,aAAG,CAACC,MAAtC,qBAAqDG,MAAM,CAAC,SAAD,CAA3D;;CACA,UAAIE,OAAO,GAAGF,MAAM,CAAC,SAAD,CAApB;;CACA,WAAI,IAAIG,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACD,OAAO,CAACH,MAAvB,EAA+BI,CAAC,EAAhC,EACA;CACC,YAAIC,MAAM,GAAGF,OAAO,CAACC,CAAD,CAApB;CACAF,QAAAA,UAAU,CAACI,MAAX,CAAkBT,aAAG,CAACC,MAAtB,qBAAmCO,MAAM,CAAC,SAAD,CAAzC;CACA;;CACD,YAAKT,aAAL,CAAmB,cAAnB,EAAkCM,UAAlC;CACA;;CACD,UAAKK,UAAL,CAAgB,MAAKC,OAAL,CAAa,cAAb,CAAhB;;CAnBD;CAoBC;;CAvBF;CAAA,EAAkCC,gCAAlC;;;;;;;;;;;KCEaC,OAAb;CAAA;;CAEC,mBAAYC,EAAZ,EACA;CAAA;;CAAA;CACC;;CACA,UAAKC,WAAL,CACCf,aAAG,CAACC,MADL,sBAEG,MAAKH,OAAL,CAAa,iBAAb,CAFH;;CAKA,QAAIkB,aAAa,GAAG;CACnB,yBAAmB;CADA,KAApB;CAIA,QAAIC,OAAO,GAAG,IAAIC,sCAAJ,CAAmBF,aAAnB,6CAAsCF,EAAtC,CAAd;;CACA,UAAKf,aAAL,CAAmB,iBAAnB,EAAsCkB,OAAO,CAACE,aAAR,EAAtC;;CACAF,IAAAA,OAAO,CAACG,eAAR;CAbD;CAcC;;CAjBF;CAAA;CAAA,qCAmBkBN,EAnBlB,EAoBC;CACC,UAAIO,IAAI,GAAG,IAAX;CACAC,MAAAA,EAAE,CAACC,IAAH,CAAQC,kBAAR,CAA2B,wBAA3B,EAAqD,oBAArD,EAA2E;CAC1EC,QAAAA,IAAI,EAAE,OADoE;CAE1EC,QAAAA,IAAI,EAAE;CACLC,UAAAA,QAAQ,EAAEb;CADL;CAFoE,OAA3E,EAKGc,IALH,CAKQ,UAAUC,QAAV,EAAoB;CAC3B,YAAIC,MAAM,GAAG,IAAIrC,YAAJ,CAAiBoC,QAAQ,CAAC,MAAD,CAAR,CAAiB,QAAjB,CAAjB,CAAb;CACAR,QAAAA,IAAI,CAACU,WAAL,GAAmBtB,MAAnB,CAA0BqB,MAAM,CAACX,aAAP,EAA1B;CACA,OARD;CASA;CA/BF;CAAA;CAAA,EAA6Ba,4BAA7B;;;;;;;;"}